<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>배열 메소드2 (sort, reduce)</title>
</head>
<body>
<script>

/******************************
arr.sort()
배열 재정렬
주의! 배열 자체가 변경됨
인수로 정렬 로직을 담은 함수를 받음 
**********************************/

let arr =[1,5,4,2,3];
arr.sort();
console.log(arr);
//(5) [1, 2, 3, 4, 5]



let arr2 =[27,8,5,13];
arr2.sort();
console.log(arr2);
//sort() 는 숫자가 아니라 문자열 인식하여 다음과 같이 출력
//(4) [13, 27, 5, 8]


//sort() 비교 함수처리를 해야 한다. (method) Array<number>.sort(compareFn?: (a: number, b: number) => number): number[]
function fn(a, b){
    return a-b;
}
arr2.sort(fn);
const result=arr2.sort((a, b)=>{
    console.log(a, b);
    return a-b;
})
console.log("sort arr2 : ", arr2);
//(4) [5, 8, 13, 27]
console.log("sort result ",result);


//정렬 라이브러리 Lodash 사용
//_.sortBy(arr);
//https://lodash.com/



/******************************
arr.reduce()
인수로 함수를 받음
(누적 계산값, 현재값) =>{return 계산값};
**********************************/
//배열의 모든수 합치기
let arr3 =[1,2,3,4,5];
//for, for of, forEach

let result1 =0;
arr3.forEach((num)=>{
    result1  +=num;
})
console.log("배열의 모든수 합치기 result1 : forEach ",result1);
//배열의 모든수 합치기 result1 : forEach  15


const result2=arr3.reduce( (acc,curr)=>{
    return acc+curr;
}, 0)
console.log("reduce  배열의 모든수 합치기: ",result2);
//reduce  배열의 모든수 합치기:  15

let userList=[
    {name:"Mike",age:30},
    {name:"Tom",age:10},
    {name:"Jane",age:27},
    {name:"Sue",age:26},
    {name:"Harry",age:43},
    {name:"Steve",age:60},
]

let result3=userList.reduce((acc, curr)=>{
        if(curr.age >30){
           acc.push(curr.name) ;
        }
        return acc;
}, []);
//초기값이 빈배열 누적처리
console.log("reduce 30 살보다 많은 사람: ",result3);
//reduce 30 살보다 많은 사람:  (2) ['Harry', 'Steve']


let result4=userList.reduce((acc, curr)=>{       
        return acc+curr.age;
}, 0);
console.log("reduce 나이  누적처리: ",result4);
//reduce 나이  누적처리:  196

</script>    
</body>
</html>